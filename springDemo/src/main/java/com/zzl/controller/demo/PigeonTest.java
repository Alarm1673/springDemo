package com.zzl.controller.demo;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import org.apache.commons.collections.map.HashedMap;
import org.apache.http.Consts;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.util.EntityUtils;

import java.util.Map;

/**
 * Class <code>Object</code> is the root of the class hierarchy.
 * Every class has <code>Object</code> as a superclass. All objects,
 * including arrays, implement the methods of this class.
 *
 * @author Administrator
 * @version 1.0
 * @see
 * @since JDK1.7
 * <p>
 * History
 * Created by Administrator on 2017/5/31 0031.
 */
public class PigeonTest {

//    public static void main(String[] args){
//
//        try {
//            //int[] shopId = {23229776,13799770,22313940,24934880,67568719,90415345,69309071,56636209,536763,2692024,38306657,22308056,67218043,15910215,5344070,70767783,6129548,69311898,16971663,38230703,69452543,19633938,17153327,59437412,79262695,63367917,56647878,5478596,536449,9030638};
//            //int[] shopId = {76948242,42586194,67661750,80453134,69925746,69350089,23229776,24934880,56636209,2788321,19794143,17212515,77294535,90385804,538391,9979359,71003616,562595,22968804,23676233,15104339,24878380,64005466,45625370,8644381,69268506,69624568,77295558,13931101,90592346,4547860,541528,32450469,17960749,580097,19355087,23942430,67192156,9076533,90458825,5352265,50387055,72342230,19466062,66884237,67215431,24959605,5380227,83454501,19698032,79282912,90313978,67318007,83533663,40285250,69821990,15562976,5151464,58610182,83473117,2162407,22006649,91633669,79276162,63125572,83481038,5255305,48423677,57828400,59437606,15878075,56946581,572655,76891308,32143044,33572528,59209139,6182394,20725183,65474601,58098515,69480600,79706769,584748,10468599,21685923,69666434,10617877,21136909,10604530,5346508,5392515,59039514,90436914,37926668,37926668,1993612,24286257,83080838,8683023,90445114,23036718,27035820,43637409,69125799,3562876,4131536,3562876,21223798,20914854,20701365};
//            int[] shopId = {2052058,2452672,40285250,2391184,22222966,92027577,79427267,57157253,83473117,5151464,9185726,74533482,58610182,5693925,18429867,18365760,80289266,3885391,58580500,57727290,5376285,2037682,69532939,70883275,57823352,76960252,66983895,66100490,3311113,23047864,41045808,69479371,57078164,6035812,72358418,67411568,80995246,69449460,2162407,48301407,91633669,2055568,22006649,21116053,24791505,32388254,21362644,45401007,63224715,71116950,12599785,21100698,82881311,91984447,21031105,3452914,9093911,6145721,24878193,69316280,58240227,2724211,43797045,91960478,40511988,22346636,91960560,58790014,63125572,58332468,79276162,10049218,83481038,1980166,9185928,45322255,14730970,24984077,1980382,27424991,6155131,57382645,68572372,79529709,68971298,1980136,10480085,19233761,27530333,91961102,58671210,8000614,41417168,9596757,62683258,2072728,9190981,69639368,57828400,66757586,43996316,24268001,79233266,2678206,2123626,76760364,67178817,5255305,66764267,79280816,91961519,18225963,76848086,4294195,67403159,70559888,24623842,48423677,57294802,92001384,2174437,24110520,67968965,580064,66596798,10601382,2172697,43912434,56946581,59437606,15878075,69570860,2371267,15103013,19281784,2393731,23748314,82686931,9116604,48960876,73430075,9101922,83117595,22887894,68251162,27287838,79064238,66923949,57304080,90994930,66417002,18951158,48060074,9072547,22988149,32344939,17875792,66961180,76891308,91055813,572655,9264977,41527945,58031951,27167685,578513,8992343,75660157,67937507,66164919,10646259,57995708,32143044,2579131,576637,75159841,24112487,5647953,59263467,52526641,68949108,9266793,6075794,22484621,91989688,91959423,67322285,67260915,33572528,22393639,59209139,68216697,68953792,90977407,80062325,80432443,57494501,45348542,5498569,67076802,80020606,10625512,75106143,91958604,6182394,5309435,90421112,67312923,5643645,65695213,92047775,58458488,90580405,6059208,56715844,27029815,23741582,92086887,76258381,20725183,27233154,57869405,75171788,90574875,21280394,21947863,72346325,66856683,65474601,69764007,90288090,90581880,27550458,58098515,23994503,21640418,38066530,6240864,40660681,58957588,9492289,23019527,27155473,21106484,2405122,65948823,21017356,23401455,69480600,67194620,584748,79706769,90094228,73407222,90426089,4672182,18202644,69626822,24959863,20809925,13768889,68518407,18621199,68200875,69057496,21018195,68207239,5191530,17198271,6448948,2129998,25054816,8049307,2242015,57912871,578144,24963742,19269264,69666434,82837034,5684895,10468599,57193819,5488173,69786766,91050312,9176003,80993667,23983002,6274520,91949745,9158624,8069420,79880352,21049627,17171690,21685923,68940182,3023593,67682240,43698069,77770641,48414441,67051819,9171397,22947785,22301278,69497011,44260960,58121598,10604530,15001302,21136909,9078630,20860274,10617877,15765304,15765376,91896514,27375973,83566461,4169882,9901903,69910133,91961789,76891832,23234653,59132404,74440558,39816225,58742117,77788767,72456318,77563371,69058684,63003504,70440896,5247512,57847423,5346508,80249681,5568102,59039514,5392515,17716439,57047078,570465,91633708,2110957,18054783,91633702,22089094,81754661,561761,45644922,69224452,80947517,66348206,570208,57945113,62893094,58631160,79769977,2276902,17870874,3552223,9129591,9101612,90436914,37926668,3304081,59203421,76399854,19372891,75120321,16053340,23933522,15277103,90305295,70440409,23062881,6862097,66099527,59126535,15098452,3658702,41076480,32707146,10667775,22508936,8812723,59052048,1892308,90925409,5215429,24831392,5720802,79175957,24286257,76727021,73423749,8049313,3350377,69309878,66417978,24286277,73596192,8117781,20879474,21364114,4699920,70011642,83080838,59445317,20727298,4731096,80236346,90069288,68072713,1993612,22806803,90475887,91691426,22036213,22938831,67676677,10416531,20297103,90445114,8683023,90282639,90445648,19098737,90452533,6812765,6084532,561917,69723734,58245147,90985022,37796096,73550370,20727097,66984646,52085567,69046429,8723991,80139488,2150455,43609858,32488757,68045895,4684350,67624058,66378596,23036718,69279627,26999832,37765264,27035820,43637409,69125799,23987391,27515558,58238324,74632019,4528531,67413561,76958704,77343974,37765330,5453555,90022093,69472638,68122239,2744128,9188554,79265623,16973353,20662822,23557581,66709916,2018851,5200073,66699315,21564588,74623038,90087844,4131536,13862862,3562876,76658703,5267960,10335113,48394923,5232382,75682785,5857247,91633201,2274091,58662442,66602293,71020291,8976592,559689,5463282,8926887,17838099,20706940,21737491,77479742,18307347,5311950,10463323,17891679,19399120,6061712,90283855,5588830,90365699,19708737,23542018,17222309,557527,72461618,38210049,21223798,24069416,557530,6444314,82228209,6128560,90096311,70600217,20701365,20680692,1917007,557566,22894206,2354776,20914854,67140867,18326320,2311099,65714935,22997831,69940768,57690971};
//            for (Integer s : shopId){
//                StringBuffer stringBuffer = new StringBuffer();
//                stringBuffer.append("http://10.69.70.226:4080/invoke.json?validate=f&app=shop-server&timestamp=1495767992&direct=false&token=&parameters%5B%5D=");
//                stringBuffer.append(s);
//                stringBuffer.append("&url=http%3A%2F%2Fservice.dianping.com%2FshopService%2FshopService_2.0.0&method=loadShop&parameterTypes%5B%5D=int");
//                HttpClient httpClient = new DefaultHttpClient();
//                HttpGet httpGet = new HttpGet(stringBuffer.toString());
//                HttpResponse response = httpClient.execute(httpGet);
//                HttpEntity entity = response.getEntity();
//                String respStr = EntityUtils.toString(entity, Consts.UTF_8);
//                JSONObject jsonObject = JSON.parseObject(respStr);
//                String shopName = jsonObject.getString("shopName");
//                String branchName = jsonObject.getString("branchName");
//                System.out.println(shopName + "---" + branchName );
//            }
//
//        }catch (Exception e){
//
//        }
//
//    }

    public static void main(String[] args){

        try {
//            int[] userIds = {186073163,1221060308,2705391,36136912,27590639,13755138,7086452,762180946,14783474,25928381,11334161,101642542,3520796,19965134,720878956,137170142,13004790,22749765,7796011,56694708,1224022683,835059531,1209653,792508039,7642033,40914111,834435265,8806109,3170095,13981150,48901600,14161242,14104902,21184599,11175032,494671,768165485,8674766,196689455,1543450,845548318,1104491806,176586682,51941898,80648400,15878580,25321483,166903549,41943016,10159407,996133,22151868,29244161,22121497,455653803,866058898,43044076,78312993,755936545,67305980,10654069,19596959,1472632,25969975,9919772,34756069,6351083,1576552,788892864,23717198,334975954,4440796,178294025,34808457,49439862,123556872,26515077,20606292,195130690,86297488,61600794,56050759,19526313,21856365,586055,19038755,9829135,55037680,110886780,63195153,5045319,35653950,56308467,6130072,422034922,49449239,817867087,9265069,8081175,14644974,853740022,6090208,22516068,882232694,25205198,7459869,110624530,52212498,2910502,27748152,24269979,33128317,9163390,5541637,10151734,10618693,62349022,13918828,62955642,421739,1179951674,771310646,4578617,19896118,36659955,812363308,840609047,23801336,33883198,4451700,4083319,16092604,2789507,50091331,1081932237,20069292,31754547,29932531,14176224,52832579,14187667,45322595,8744488,1231918990,40793017,129374475,24422669,75053184,77929715,120397372,754831457,116535984,9017949,10403518,36522807,22847349,31804530,780501345,767948522,35633830,18869687,3704315,26032514,185669088,754831457,21991165,42876225,58531400,134327611,24431888,39134154,41771695,140685481,57405107,53291285,4955259,696663,96546577,45528812,22926052,32035677,120246574,175004067,39642498,1232773307,13097103,761281681,5544617,10531365,1379916,810569499,7268547,130726739,2698980,5810030,110985024,71337886,106160983,144798533,114031115,42920232,476083,132329102,1642758,18616116,755604446,53073494,41024163,793562085,161464161,852636374,124026439,25393895,53279438,144209855,1197798101,3474429,7617828,3726933,14758866,10552810,910346922,780183829,124394341,92201159,1195896,123595691,8135383,21988956,157896048,46012392,780183829,46957124,186826236,111388811,53918607,2228344,58605637,807618132,109954684,2827696,109717299,1567635,57194247,44729310,148097197,16011929,2379446,1043388,6340732,50744591,19299560,20458555,782693477,22025763,1198887993,72871681,153995022,22990905,403944,75938958,858597532,42944074,5635346,62793039,16011929,28702158,59688137,17636252,914813443,115095926,239824371,873289552,854005162,1299183,15251963,1232722528,785380760,13402398,183653945,53303203,1018198557,94142494,3502863,189616743,37671315,51032795,2670932,22254399,2099103,5697129,19855213,6500503,7628269,9997039,84706613,37470294,3471517,8380407,1714636,8274675,814829217,107982788,3742395,1199398702,17427375,53089010,830899327,1144364910,6115163,795824125,13767373,31480588,48151459,7136437,11476419,7018707,8635945,848889398,28932886,51372002,44618389,1171309753,6175245,742935,159147267,22665286,138875991,9539990,40081,23642026,53158373,10188912,19281127,85887563,304459,13342716,107107298,26094734,3955503,14336948,1019058365,1146714893,7597285,110543390,873745422,184091119,720622434,61323200,21105,44824920,720944601,47520274,2180487,6069219,57660870,24263347,65087436,418898,34092795,8703,6003324};
//            int[] userIds = {5112059,141536600,63871872,720552900,51653001,18354032,36730645,42153279,6129334,6385765,59010297,39187468,22876765,14896348,51106410,2527400,24055804,125789466,3167798,6965425,1229560345,15126185,62725414,21073255,45901851,14283274,771351,23682474,193578990,53864443,111407879,43200016,35939760,45147076,113990,9181348,815269069,6759486,21674758,1162528353,109557432,58559792,6452291,126679077,27737627,13921175,692108,60268924,60268924,1061336355,26522192,22463072,43855356,104550137,104550137,104550137,1094927360,1095512715,25281564,46431558,531523454,191367897,57693750,1018346473,19943782,127082055,46793254,76350653,3712962,4097941,356857,1474405,11669558,3544047,4594068,11636725,2539796,1159100227,154697435,193491462,14465684,149529239,2611092,22356891,114457325,858138878,113991783,757477470,52674655,1217922733,829750803,38002653,1162858073,8953813,1191197262,5515439,1078918,122450834,20878156,3051012,36945129,873286498,131421441,1212381235,17269705,1192035018,10760559,22954969,27320504,46613384,873686791,19043920,3314709,1002578874,35128271,3160531,2399048,11616965,795738548,795738548,767517976,94166535,9645305,752313453,1186005,849501948,186040849,24647747,27130891,7083388,25331579,147094297,81979599,777063585,8188192,3445437,1236003887,318703955,13994506,4901077,33325020,3398093,765145406,35832004,2798449,3573282,765423753,1168668957,61461367,26312418,22026848,165467916,133550017,59430566,114919363,18377352,2230511,818162771,37481485,34739511,11565793,34739511,2926061,720975954,4176969,111405894,150135556,3457782,7998193,43975465,10675323,38349197,642667,36336209,1027750,33743474,24563891,590489687,1336402,964884580,130753193,44761844,186388528,1168680978,8809817,20293793,190894077,20293793,24033441,50093073,756264756,22326326,35846680,53079756,2773410,879508723,7168851,183444186,17896911,36659955,1179737324,11377057,754277447,80278675,52934000,2585471,79201167,108156161,973941,181310002,21379814,64738390,3765390,18107818,3019821,1329971,2813294,8411760,893695537,8645214,965985480,1232674720,19858298,8443837,54455741,71029954,815880758,75193313,2514836,8375790,7313736,36732147,720572074,42652397,53179955,877475282,779957531,35632907,100919666,6242619,8574845,188193678,28316991,185839221,28680006,3273811,1177901345,1048131427,53206875,25522068,52750793,43147,28056725,46056925,18764974,28616428,1188081201,829852422,23981663,34434935,37890234,20004224,1097930,4745478,31994407,38128081,63425345,15744745,99482037,38128081,53598491,22431290,4491823,3875571,751338137,136432351,55163734,101546004,34640786,9170289,6628348,143705016,3632248,1187150,36163575,11505955,53062074,97033808,14112480,24582836,1137354620,19274178,35831347,32837796,482255,48078083,1235918186,986998773,2349509,7851407,751888585,59939076,132337286,25088494,10556722,21875459,11274347,13498677,52798308,62830046,30272946,17269705,9088759,20070336,29960699,77642430,15970062,30260370,8846836,37123250,144275128,20427831,123934,918593919,38807105,3782305,787575376,776497986,2538238,5036678,112199171,20430851,3618434,1279412,184791846,51378573,52456330,35495540,85057924,831027255,10694928,148030109,50678935,7463466,13447879,138711284,7225782,23133977,979332028,792579693,10694928,1130434179,23553719,2895637,11371633,914088896,28437691,6629980,720979449,108549122,25485470,751020139,3055696,14589459,895377374,7603331,63001187,4642579,38920057,119634831,23471984,4642579,54807468,49559217,828324,2287897,52934359,148184974,2027405,24641826,14560394,1765205,43297849,21205307,373594070,8112027,11414418,3759441,103494355,3674517,137038585,919506777,780984956,6958514,174208567,9335576,18447089,756873463,49255032,8722942,49255032,772550682,108628202,761210600,170177275,11763015,11596037,2677922,922838297,8631013,8499643,55541653,3445437,4035204,2349935,7355077,15330215,3388928,7878738,7061209,41600453,1223645048,46485261,17269705,46381312,46381312,27477500,7098952,111299236,177937487,756873463,51581025,15301690,770145681,893093735,768547925,53563816,170814141,122552462,122552462,4293309,168002790,37064};
           // int[] userIds = {4784941,14655209,124339900,23156799,963351,35569251,43517166,863928073,170895591,15801188,26496176,21704601,11036043,8321574,62360982,41731939,491029853,2813756,721528511,134365840,776081032,814867023,818118853,44842115,3048972,28957984,1147309495,779765349,31286117,113815965,1104967098,5812739,759100327,892186717,12447979,34828523,18934606,14238952,54135663,5407335,19822414,906163412,35895056,214482629,863150282,8494727,6504422,774172149,39512907,32781663,92392919,1819087,8712773,136574129,34605084,14951161,6891547,886941181,40502925,3526098,779639075,146750744,29333588,2202487,795171182,9491892,1931400,4420529,55521704,15602979,987581100,1747254,130596561,7724658,94030607,157906535,1239378653,22497395,26342537,18957265,30177918,29612831,42326353,8135383,3652250,53727865,37763923,21409776,19018056,8821872,1238372431,24440854,753555463,49340011,104818493,49340011,160547547,44884049,19558705,47756019,47756019,10181626,946549909,15416260,2851780,642840123,18408492,131120756,63605096,103096103,36182194,7591968,1206491,8048380,1706187,1002139761,4311423,779789413,1990990,26525970,757722003,18523647,1672059,44439592,124674893,791680404,1109220026,1385278,753848291,4042534,31298227,72297861,760903655,753848291,1122892726,779989426,60154578,3710246,1029119864,837586619,13757795,4664585,36224497,18288964,63220518,53012844,14583083,45939895,25905634,111258152,2534468,34999757,14078619,186596381,809773730,5631793,193222746,91328890,19421369,4649490,505763189,275008032,53180670,479170901,91302575,91302575,32558452};
            int[] userIds = {867048392,867048392,867048392,867048392,867048392};
            for (Integer s : userIds){
                StringBuffer stringBuffer = new StringBuffer();
                stringBuffer.append("http://10.69.64.241:4080/invoke.json?validate=f&app=emidas-lottery-service&timestamp=1496629681&direct=false&token=&parameters%5B%5D=");
//                stringBuffer.append("{\"token\":\"\",\"userInfo\":{\"userType\":\"DIANPING_USER\",\"userId\":"+s+"},\"cxMap\":{},\"couponIdList\":[42450]}");
//                String str = "{\"token\":\"\",\"userInfo\":{\"userType\":\"DIANPING_USER\",\"userId\":"+s+"},\"cxMap\":{},\"couponIdList\":[43141]}";
                String str = "{\"token\":\"\",\"userInfo\":{\"userType\":\"MEITUAN_USER\",\"userId\":"+s+"},\"cxMap\":{},\"couponIdList\":[43136]}";
                stringBuffer.append(java.net.URLEncoder.encode(str, "utf-8"));
                stringBuffer.append("&url=http%3A%2F%2Fservice.dianping.com%2Femidas%2FemidasLotteryServer%2FcouponIssueRemoteService_2.0.0&method=issueCoupon&parameterTypes%5B%5D=com.dianping.emidas.lottery.api.dto.batch.CouponIssueRequest");
                HttpClient httpClient = new DefaultHttpClient();
                HttpGet httpGet = new HttpGet(stringBuffer.toString());
                HttpResponse response = httpClient.execute(httpGet);
                HttpEntity entity = response.getEntity();
                String respStr = EntityUtils.toString(entity, Consts.UTF_8);
                JSONObject jsonObject = JSON.parseObject(respStr);
                System.out.println("userId:"+ s + "-----"+ jsonObject);
            }

        }catch (Exception e){

        }

    }


    /**
     * 字符串转换unicode
     */
    public static String string2Unicode(String string) {

        StringBuffer unicode = new StringBuffer();

        for (int i = 0; i < string.length(); i++) {

            // 取出每一个字符
            char c = string.charAt(i);

            // 转换为unicode
            unicode.append("\\u" + Integer.toHexString(c));
        }

        return unicode.toString();
    }

}
